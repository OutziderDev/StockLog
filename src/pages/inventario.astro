---
import Layout from '@/layouts/Layout.astro'
import LupaIcon from '@/assets/icons/lupa.svg'
import AddIcon from '@/assets/icons/add.svg'
import { materiales } from '@/data/materiales'

const materialesClave = Object.keys(materiales[0]);
---
<Layout >
  <section class="container">
    <header>
      <h1 class="tittle">Inventario de Materiales</h1>
      <button class="add" aria-label="Agregar Producto"> <AddIcon/> Agregar Producto</button>
    </header>

    <section>
      <h2 class="sr-only">Panel de Filtros</h2>
      <form action="">
         
        <label for="inputbusqueda" class="sr-only">Buscar Productos</label>
        <input type="text" name="inputbusqueda" id="inputbusqueda" class="inputbase" placeholder="Buscar Producto..." />

        <label for="inputCategoria" class="sr-only">Busqueda con Categoría</label>
        <select name="inputCategoria" class="inputbase" id="inputCategoria">
          <option value="" disabled selected>Selecciona una categoría</option>
          <option value="herramientas">Herramientas</option>
          <option value="materiales">Materiales</option>
          <option value="maquinaria">Maquinaria</option>
        </select>

        <label for="inputUbicacion" class="sr-only">Busqueda con Bodega</label>
        <select name="inputUbicacion" class="inputbase" id="inputUbicacion">
          <option value="" disabled selected>Selecciona una Ubicacíon</option>
          <option value="bodega1">Bodega 1</option>
          <option value="bodega2">Bodega 2</option>
          <option value="bodega3">Bodega 3</option>
        </select>
        
        <button type="submit"> <LupaIcon aria-hidden="true"/> Filtrar</button>
      </form>
    </section>
     
    <table>
      <caption>Materiales en Inventario</caption>
      <thead>
        <tr>
          {materialesClave.map( clave => <th>{clave}</th>)}
          <th>Opcion</th>
        </tr>
      </thead>
      <tbody>
        {materiales.map( material => (
          <tr>
            {materialesClave.map( clave => <td>{ material[clave]}</td>)}
          </tr>
        ))}
      </tbody>
      <!-- <tfoot>Tabla de Materiales en el sistema</tfoot> -->
    </table>
  </section>
</Layout>

<style>
  header {
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-between;

    @media ( width <= 768px){
      flex-direction: column;
      gap: 1rem;
    }

    & > h1 {
      font-size: 1.8rem;
      text-wrap: nowrap;
    }

    & > button {
      display: flex;
      align-items: center;
      gap:0.5rem;
      background-color: var(--color-naranja-oscuro);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;

      &:hover {
        background-color: var(--color-naranja-claro);
      }

      & > svg {
        stroke: var(--color-morado-oscuro);
        stroke-width: 3;
      }
    }
  }

  form {
    width: 100%;
    display: flex;
    justify-content: center;
    flex-direction: row;
    gap: 1rem;;

    @media ( width <= 768px) {
      flex-direction: column;
    }

    & > input[type="text"] {
      width: 50%;

      @media( width <= 768px) {
        width: 100%;
      }
    }

    & > #inputCategoria, #inputUbicacion {
      width: 25%;

      @media( width <= 768px) {
        width: 100%;
      }
    }

    & > button {
      display: flex;
      align-items: center;
      gap: 0.3rem;
      padding: 0.3rem 1rem;
      border: none;
      border-radius: 0.4rem;
      cursor:pointer;
      background-color: var(--color-naranja-oscuro);
      color: white;
      &:hover {
        background-color: var(--color-naranja-claro);
      }
    }
  }

  table {
    width: 100%;

    & > thead {
      /* color: var(--color-morado-oscuro); */
      background-color: var(--color-naranja-oscuro);
    }

    & th {
      padding: 0.5rem;
      font-weight: 900;
    }
  }
</style>